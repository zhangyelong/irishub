---
order: 4
---

# 快照

## 简介

IRIShub可以快照当前节点的最新数据，包括区块、共识状态、应用状态等。对于区块数据只保留当前节点最新区块信息，以前所有区块信息丢弃，所以不适合作为LCD连接的全节点。该功能适合以下情况：

* 快速启动新节点，加入主网
  
* 释放磁盘空间

## 用法

```bash
 iris snapshot <flags>
```

命令执行之后，会在`--tmp-dir`指定的目录下生成一个`data.bak`目录，删除旧的`data`目录，重命名`data.bak`为`data`，重新启动节点。

:::tip
执行命令前需将节点暂停
:::

## 标识

| 名称，速记 | 类型   | 必须 | 默认值      | 描述                           |
| ---------- | ------ | ---- | ----------- | ------------------------------ |
| --tmp-dir  | string |      | 同`--home`    | 快照数据的保存位置             |
| --home     | string |      | $HOME/.iris | 指定存储配置和区块链数据的目录 |

## 示例

快照当前节点最新的数据

```bash
 iris snapshot --home=<path-to-your-home>
```

## 问答

### 如果网络中所有节点都使用快照启动，同时一个新节点尝试从genesis开始同步，会发生什么

如果发生这种情况，新节点将无法从头开始同步，但可以使用快照来更快地追赶区块。

并不是所有的节点都会删除历史数据，例如用于浏览器和钱包的节点。 而且，IRIS基金会也将保留所有数据，我们还可以提供完整的数据快照。 我们鼓励快照服务提供商也可以提供最小快照和完整快照 :）

### 但这可能会降低下载速度

是的，但是大多数人不需要完整的数据，他们可以下载最新的快照以比以前更快地进行同步。如果他们愿意，他们也可以下载完整的数据快照。

### 我可以快照验证人节点吗

是的，但目前最好不要这么做。